{
  "_WARNING": "THIS CONFIGURATION DOES NOT WORK AS INTENDED",
  "_explanation": [
    "PROBLEM: ElevenLabs webhook tools expect JSON responses, but this endpoint returns TwiML (XML).",
    "ElevenLabs webhook tools CANNOT transfer calls - they can only make HTTP requests and get data back.",
    "The /api/twilio/voicemail endpoint returns TwiML which ElevenLabs cannot process.",
    "",
    "SOLUTION: Use the transfer_to_number system tool instead.",
    "See voicemail-transfer-tool-config.json for the correct configuration.",
    "",
    "This file is kept for reference only."
  ],
  "tool_config": {
    "type": "webhook",
    "name": "Leave-Voicemail",
    "description": "Transfer the caller to voicemail when they want to leave a message for O Cinema staff. Use this when the caller asks to speak to someone, leave a message, or when you cannot help them with their inquiry.",
    "response_timeout_secs": 10,
    "disable_interruptions": true,
    "force_pre_tool_speech": true,
    "api_schema": {
      "url": "https://miami-theater-voice-agent.vercel.app/api/twilio/voicemail",
      "method": "POST",
      "request_body_schema": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string",
            "description": "Brief reason why the caller is leaving a voicemail (e.g., 'wants to speak to manager', 'has a question about tickets', 'general inquiry')"
          },
          "caller_context": {
            "type": "string",
            "description": "Any relevant context from the conversation that staff should know"
          }
        },
        "required": ["reason"]
      },
      "request_headers": {
        "Content-Type": "application/json"
      }
    }
  },
  "_migration_steps": [
    "1. Obtain a Twilio phone number for voicemail",
    "2. Configure Twilio number voice webhook: https://your-app.vercel.app/api/twilio/voicemail",
    "3. Enable transfer_to_number system tool in ElevenLabs agent",
    "4. Update agent prompt to transfer to the Twilio number",
    "5. Test the integration"
  ]
}
